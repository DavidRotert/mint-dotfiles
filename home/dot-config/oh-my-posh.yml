# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json
version: 3
final_space: true
blocks:
  - type: prompt
    alignment: left
    newline: true
    segments:
      - type: os
        style: powerline
        powerline_symbol: ""
        foreground: black
        background: white
        template: "{{ if .Segments.Session.SSHSession }} {{ if .WSL }}WSL at {{ end }}{{.Icon}} {{ end }}"
      - type: session
        style: powerline
        powerline_symbol: ""
        foreground: white
        background: magenta
        template: "{{ if .SSHSession }} {{ .UserName }}@{{ .HostName }} {{ end }}"
      - type: path
        style: powerline
        powerline_symbol: ""
        foreground: white
        background: blue
        properties:
          style: powerlevel
          max_width: 30
      - type: git
        style: powerline
        powerline_symbol: ""
        foreground: black
        background: green
        background_templates:
          - "{{ if or (.Working.Changed) (.Staging.Changed) }}yellow{{ end }}"
        template: " {{ .UpstreamIcon }} {{ .HEAD }}{{ if .BranchStatus }} {{ .BranchStatus }}{{ end }}{{ if or (.Working.Changed) (.Staging.Changed) }} {{ .Working.String }}>>{{ .Staging.String }}{{ end }}{{ if gt .StashCount 0 }} *{{ .StashCount }}{{ end }} "
        properties:
          fetch_status: true
          fetch_upstream_icon: true
          branch_icon: ""

  - type: prompt
    alignment: right
    segments:
      - type: go
        style: plain
        foreground: black
        background: lightBlue
        template: " {{ .Major }}{{ .Minor }} "
      - type: python
        style: plain
        foreground: black
        background: green
        template: "  {{ .Major }}.{{ .Minor }} ({{ .Venv }}) "
        properties:
          fetch_virtual_env: true
          fetch_version: true
          show_version: true
      - type: node
        foreground: black
        background: green
        template: " Node {{ .Major }} "
      - type: executiontime
        style: plain
        forground: lightGrey
        background: black
        properties:
          threshold: 100

  - type: prompt
    alignment: left
    newline: true
    segments:
      - type: status
        style: plain
        template: "❯"
        foreground: green
        foreground_templates:
          - "{{ if .Error }}red{{ end }}"
        properties:
          always_enabled: true
